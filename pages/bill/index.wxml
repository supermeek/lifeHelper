<wxs module="Filter" src="../../utils/filter.wxs"></wxs>
<view class="container">

  <!-- 月份筛选 -->
  <view class="month_wrapper bg_{{theme.mainColor}}">
    <text>上月</text>
    <view class="month">{{month}}</view>
    <text>下月</text>
  </view>

  <!-- 当月总收支 -->
  <view class="total_wrapper shadow_bottom" style="z-index:2">
    <view class="left_total">
      <text class="gray">当月总支出</text>
      <text class="total_count oldRed">￥2560120</text>
    </view>
    <view class="right_total">
      <text class="gray">当月总收入</text>
      <text class="total_count oldGreen">2500.88</text>
    </view>
  </view>

  <!-- 类型多选 -->
  <checkbox-group class="type_wrapper" bindchange="checkboxChange">
    <label class="type_item {{item.checked ? 'border_bottom_'+theme.mainColor : ''}}" wx:for="{{typeList}}" wx:key="id" data-index="{{index}}" bindtap="selectType" style="border-width:2px">
      <checkbox class="weui-check" value="{{index}}" checked="{{item.checked}}" />
      <image src="/images/{{item.icon}}" mode="aspectFit"></image>
      <text class="gray">{{item.name}}</text>
    </label>
  </checkbox-group>

  <!-- 收支列表 -->
  <view class="list_wrapper">
    <view wx:for="{{list}}" wx:key="index" wx:for-item="timeItem">
      <text class="list_time bg_tint_{{theme.mainColor}} dark">{{index}} 周三</text>
      <view class="weui-media-box weui-media-box_appmsg" wx:for="{{timeItem}}" wx:key="id">
        <view class="weui-media-box__hd_in-appmsg">
          <image class="weui-media-box__thumb" src="/images/{{Filter.typeIcon(item.item_type_name).icon}}" mode="aspectFit" />
        </view>
        <view class="weui-media-box__bd_in-appmsg">
          <view class="weui-media-box__title">{{item.item_type_name}}</view>
          <view class="weui-media-box__desc">{{item.desc}}</view>
        </view>
        <view wx:if="{{item.outcome}}" class="weui-cell__ft oldRed">-{{item.money}}</view>
        <view wx:if="{{!item.outcome}}" class="weui-cell__ft oldGreen">+{{item.money}}</view>
      </view>
    </view>
  </view>


  <!-- 添加按钮 -->
  <component-add id="add"></component-add>


</view>